# =============================================================================
# Minalesh Marketplace - Environment Variables
# =============================================================================
# 
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!
#
# Required fields are marked with [REQUIRED]
# Optional fields are marked with [OPTIONAL]
#
# =============================================================================

# =============================================================================
# Node Environment
# =============================================================================
NODE_ENV=development # development, production, or test

# =============================================================================
# Database Configuration
# =============================================================================
# [REQUIRED] PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database
# For production, use connection pooling: ?pgbouncer=true&connection_limit=1
DATABASE_URL=postgresql://user:password@localhost:5432/minalesh?sslmode=require

# =============================================================================
# Authentication & Security
# =============================================================================
# [REQUIRED] Secret key for JWT token signing (min 32 characters)
# Generate: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-in-production

# [OPTIONAL] Token expiration times
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# [REQUIRED] Secret for securing cron endpoints (min 16 characters)
# Generate: openssl rand -base64 16
CRON_SECRET=your-cron-secret-key-change-in-production

# =============================================================================
# Application URLs
# =============================================================================
# [OPTIONAL] Public-facing URLs (used for emails, redirects, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# =============================================================================
# Email Service (Resend)
# =============================================================================
# [OPTIONAL] Resend API key for sending transactional emails
# Get yours at: https://resend.com
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# [OPTIONAL] Default sender email (must be verified in Resend)
EMAIL_FROM=noreply@yourdomain.com

# [OPTIONAL] Contact information
CONTACT_EMAIL=support@yourdomain.com
CONTACT_PHONE=+251900000000

# =============================================================================
# SMS Service (Africa's Talking)
# =============================================================================
# [OPTIONAL] SMS provider: africas_talking, twilio, or none
SMS_PROVIDER=none

# [OPTIONAL] Africa's Talking credentials
# Get yours at: https://africastalking.com
AFRICAS_TALKING_USERNAME=sandbox
AFRICAS_TALKING_API_KEY=your-africas-talking-api-key
AFRICAS_TALKING_SHORT_CODE=12345

# =============================================================================
# Payment Gateways
# =============================================================================

# Stripe (International)
# [OPTIONAL] Get your keys at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Generic payment webhook secret
PAYMENT_WEBHOOK_SECRET=your-payment-webhook-secret

# TeleBirr (Ethiopia)
# [OPTIONAL] Ethiopian mobile payment provider
TELEBIRR_API_KEY=your-telebirr-api-key
TELEBIRR_WEBHOOK_SECRET=your-telebirr-webhook-secret

# CBE Birr (Ethiopia)
# [OPTIONAL] Commercial Bank of Ethiopia
CBE_API_KEY=your-cbe-api-key
CBE_WEBHOOK_SECRET=your-cbe-webhook-secret

# Awash Bank (Ethiopia)
# [OPTIONAL] Awash Bank payment integration
AWASH_API_KEY=your-awash-api-key
AWASH_WEBHOOK_SECRET=your-awash-webhook-secret

# =============================================================================
# Storage (AWS S3)
# =============================================================================
# [OPTIONAL] AWS S3 for file storage (images, documents, etc.)
# Get credentials from AWS IAM
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# =============================================================================
# Caching (Redis)
# =============================================================================
# [OPTIONAL] Redis connection URL for caching
# Format: redis://username:password@host:port
# For TLS: rediss://username:password@host:port
REDIS_URL=redis://localhost:6379
REDIS_TLS_ENABLED=false

# =============================================================================
# Monitoring & Observability
# =============================================================================
# [OPTIONAL] Sentry for error tracking
# Get your DSN at: https://sentry.io
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_ORG=your-org
SENTRY_PROJECT=your-project

# [OPTIONAL] Logging level
# Options: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# =============================================================================
# Analytics
# =============================================================================
# [OPTIONAL] Google Analytics measurement ID
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# =============================================================================
# Government API Integration
# =============================================================================
# [OPTIONAL] Ethiopian government API for business verification
GOV_API_KEY=your-gov-api-key

# =============================================================================
# Internal Services
# =============================================================================
# [OPTIONAL] Secret for internal API calls
INTERNAL_API_SECRET=your-internal-api-secret

# [OPTIONAL] Admin user email for initial setup
ADMIN_EMAIL=admin@yourdomain.com

# [OPTIONAL] Comma-separated list of admin emails
ADMIN_EMAILS=admin@yourdomain.com,admin2@yourdomain.com

# =============================================================================
# Feature Configuration
# =============================================================================
# [OPTIONAL] Batch size for vendor reverification cron
REVERIFICATION_BATCH_SIZE=50

# =============================================================================
# Additional Notes
# =============================================================================
#
# SECURITY BEST PRACTICES:
# 1. Use strong, random values for all secrets
# 2. Never commit .env to version control
# 3. Rotate secrets regularly (every 90 days minimum)
# 4. Use different values for development and production
# 5. Store production secrets in secure vault (AWS Secrets Manager, etc.)
#
# PRODUCTION CHECKLIST:
# ✓ Set JWT_SECRET to a strong random value (32+ characters)
# ✓ Set CRON_SECRET to a strong random value (16+ characters)
# ✓ Configure DATABASE_URL with production database
# ✓ Enable SSL for database connections (sslmode=require)
# ✓ Configure at least one payment gateway
# ✓ Set up email service (RESEND_API_KEY)
# ✓ Configure S3 for file uploads
# ✓ Set up Sentry for error monitoring
# ✓ Set NODE_ENV=production
#
# OPTIONAL BUT RECOMMENDED:
# ✓ Configure Redis for caching
# ✓ Set up SMS service for notifications
# ✓ Configure Google Analytics
# ✓ Set up government API integration (for Ethiopian business verification)
#
# =============================================================================
